<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-CN">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="referrer" content="no-referrer">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">



  
  
  <link rel="stylesheet" href="/lib/needsharebutton/needsharebutton.css">










<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">






















<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=6.0.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=6.0.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=6.0.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=6.0.4">


  <link rel="mask-icon" href="/images/logo.svg?v=6.0.4" color="#222">









<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '6.0.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":true,"onmobile":false},
    fancybox: false,
    fastclick: false,
    lazyload: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  
  <meta name="keywords" content="Hexo, NexT">


<meta property="og:type" content="website">
<meta property="og:title" content="老男将的叨叨">
<meta property="og:url" content="http://topcatv.github.com/index.html">
<meta property="og:site_name" content="老男将的叨叨">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="老男将的叨叨">






  <link rel="canonical" href="http://topcatv.github.com/">



<script type="text/javascript" id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>
  <title>老男将的叨叨</title>
  









  <noscript>
  <style type="text/css">
    .use-motion .motion-element,
    .use-motion .brand,
    .use-motion .menu-item,
    .sidebar-inner,
    .use-motion .post-block,
    .use-motion .pagination,
    .use-motion .comments,
    .use-motion .post-header,
    .use-motion .post-body,
    .use-motion .collection-title { opacity: initial; }

    .use-motion .logo,
    .use-motion .site-title,
    .use-motion .site-subtitle {
      opacity: initial;
      top: initial;
    }

    .use-motion {
      .logo-line-before i { left: initial; }
      .logo-line-after i { right: initial; }
    }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"> <div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">老男将的叨叨</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">生命不息 折腾不止</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            <i class="menu-item-icon fa fa-fw fa-home"></i> <br>首页</a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>标签</a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            <i class="menu-item-icon fa fa-fw fa-th"></i> <br>分类</a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>归档</a>
        </li>
      

      
    </ul>
  

  
</nav>


  



 </div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://topcatv.github.com/2019/11/18/yuque/Windows中使用WinMerge作为git默认merge工具/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="刘易(Roy Liu)">
      <meta itemprop="description" content>
      <meta itemprop="image" content="http://cn.gravatar.com/avatar/d4110ace8be56d4da704c138d8abee09">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="老男将的叨叨">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/11/18/yuque/Windows中使用WinMerge作为git默认merge工具/" itemprop="url">Windows中使用WinMerge作为git默认merge工具</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-11-18T20:01:57+08:00">2019-11-18</time>
            

            
            

            
          </span>

          

          
            
          

          
          
             <span id="/2019/11/18/yuque/Windows中使用WinMerge作为git默认merge工具/" class="leancloud_visitors" data-flag-title="Windows中使用WinMerge作为git默认merge工具">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          
            <div class="post-symbolscount">
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">1.5k</span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">0:02</span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a name="OwI7H"></a></p>
<h1 id="安装WinMerge"><a href="#安装WinMerge" class="headerlink" title="安装WinMerge"></a>安装WinMerge</h1><p><a name="ymP2t"></a></p>
<h2 id="下载"><a href="#下载" class="headerlink" title="下载"></a>下载</h2><ul>
<li>工具主页<a href="https://winmerge.org/" target="_blank" rel="noopener">https://winmerge.org/</a></li>
<li>下载地址<a href="https://winmerge.org/downloads/?lang=en" target="_blank" rel="noopener">https://winmerge.org/downloads/?lang=en</a><br><a name="Oo2oS"></a><h1 id="配置git"><a href="#配置git" class="headerlink" title="配置git"></a>配置git</h1><a name="Xxg8E"></a><h2 id="编辑配置文件"><a href="#编辑配置文件" class="headerlink" title="编辑配置文件"></a>编辑配置文件</h2></li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global -e</span><br></pre></td></tr></table></figure>

<p>或是使用你常用的文本工具打开<code>%USER%/.gitconfig</code>文件，<code>%USER%</code>在windows中一般是C:\Users\下的当前登录系统的用户名目录</p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">[user]</span><br><span class="line">	<span class="attribute">name</span> = liuyi</span><br><span class="line">	email = liuyi03<span class="variable">@sinochem</span>.com</span><br><span class="line">[alias]</span><br><span class="line">	st = status</span><br><span class="line">	ci = commit</span><br><span class="line">	br = branch</span><br><span class="line">	co = checkout</span><br><span class="line">	df = diff</span><br><span class="line">	lg = log --graph --pretty=format:<span class="string">'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr)%Creset'</span> --abbrev-commit --date=relative</span><br><span class="line">[core]</span><br><span class="line">	autocrlf = <span class="literal">true</span></span><br><span class="line">	editor = <span class="string">'d:\\software\\Microsoft VS Code\\Code.exe'</span> --wait</span><br><span class="line">[gui]</span><br><span class="line">	recentrepo = E:/projects/smart_front</span><br><span class="line">[difftool]</span><br><span class="line">	tool = winmerge</span><br><span class="line">	prompt = <span class="literal">false</span></span><br><span class="line">[difftool <span class="string">"winmerge"</span>]</span><br><span class="line">    cmd = \<span class="string">"D:/software/WinMerge/WinMergeU.exe\" -e -u -dl \"Old <span class="variable">$BASE</span>\" -dr \"New <span class="variable">$BASE</span>\" \"<span class="variable">$LOCAL</span>\" \"<span class="variable">$REMOTE</span>\"</span></span><br><span class="line"><span class="string">    trustExitCode = true</span></span><br><span class="line"><span class="string">[commit]</span></span><br><span class="line"><span class="string">	template = C:\\Users\\liuyi03\\git_commit_template.txt</span></span><br><span class="line"><span class="string">[merge]</span></span><br><span class="line"><span class="string">	tool = winmerge</span></span><br><span class="line"><span class="string">[mergetool "</span>winmerge<span class="string">"]</span></span><br><span class="line"><span class="string">	cmd = \"D:/software/WinMerge/WinMergeU.exe\" -e -u -fm -wl -wr -dl \"Local\" -dm \"Base\" -dr \"Remote\" \"<span class="variable">$LOCAL</span>\" \"<span class="variable">$BASE</span>\" \"<span class="variable">$REMOTE</span>\" -o \"<span class="variable">$MERGED</span>\"</span></span><br><span class="line"><span class="string">[mergetool]</span></span><br><span class="line"><span class="string">	trustExitCode = true</span></span><br><span class="line"><span class="string">	keepBackup = false</span></span><br></pre></td></tr></table></figure>

<p>主要的配置都在mergetool里，需要自己替换WinMerge的安装路径配置</p>
<p><a name="NfUbR"></a></p>
<h2 id="看效果"><a href="#看效果" class="headerlink" title="看效果"></a>看效果</h2><p>有一个<code>a.txt</code>文件在同一行中进行了修改，当从远端<code>fetch</code>后进行<code>rebase</code>时发生了冲突<br><img src="https://cdn.nlark.com/yuque/0/2019/png/489197/1574080606725-aac1b484-3cb7-4ad9-a1d5-8d5e8396d2ab.png#align=left&display=inline&height=310&name=image.png&originHeight=310&originWidth=873&search=&size=29651&status=done&width=873" alt="image.png"></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git mergetool</span><br></pre></td></tr></table></figure>

<p>命令行输入如上命令，出现如下界面<br><img src="https://cdn.nlark.com/yuque/0/2019/png/489197/1574080694990-5d72a7dd-c6a1-42bd-a209-257a2a995cb0.png#align=left&display=inline&height=341&name=image.png&originHeight=341&originWidth=1437&search=&size=33254&status=done&width=1437" alt="image.png"><br>点工具栏中的自动合并图标或使用快捷键<code>Ctrl+Alt+M</code>，出来如下界面<br><img src="https://cdn.nlark.com/yuque/0/2019/png/489197/1574080794479-1ed9df04-2147-468e-80f4-5421eae219ad.png#align=left&display=inline&height=521&name=image.png&originHeight=521&originWidth=1441&search=&size=55773&status=done&width=1441" alt="image.png"><br>提示自动合并两处，一处有冲突，选中左边的有冲突的行点工具栏中的<strong>复制到右侧</strong>（<code>Alt+Right</code>）以左边的修改准，如果想以右边的修改为准备则选中右国的有冲突的行点工具栏中的<strong>复制到左侧</strong>（<code>Alt+Left</code>）。<br><img src="https://cdn.nlark.com/yuque/0/2019/png/489197/1574081090086-32b9c589-dd5c-4681-93ee-e94ac068dc41.png#align=left&display=inline&height=290&name=image.png&originHeight=290&originWidth=1403&search=&size=33192&status=done&width=1403" alt="image.png"><br>如果都不对，那么直接在中间进行修改。完成后<strong>保存并关闭</strong>winmerge。完成冲突解决，如果你的冲突文件同级目录下出现了*.bak的文件，那么需要在winmerge中配置关闭自动备份功能。<br>菜单 编辑-&gt;选项 中的备份文件如下图，两个复选框都去掉<br><img src="https://cdn.nlark.com/yuque/0/2019/png/489197/1574081241124-5a2e72e3-82a8-4948-98a9-8093930fe651.png#align=left&display=inline&height=484&name=image.png&originHeight=484&originWidth=564&search=&size=36374&status=done&width=564" alt="image.png"></p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://topcatv.github.com/2019/11/18/yuque/Mac 终端环境配置/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="刘易(Roy Liu)">
      <meta itemprop="description" content>
      <meta itemprop="image" content="http://cn.gravatar.com/avatar/d4110ace8be56d4da704c138d8abee09">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="老男将的叨叨">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/11/18/yuque/Mac 终端环境配置/" itemprop="url">Mac 终端环境配置</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-11-18T19:59:56+08:00">2019-11-18</time>
            

            
            

            
          </span>

          

          
            
          

          
          
             <span id="/2019/11/18/yuque/Mac 终端环境配置/" class="leancloud_visitors" data-flag-title="Mac 终端环境配置">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          
            <div class="post-symbolscount">
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">1.7k</span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">0:02</span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a name="y347D"></a></p>
<h1 id="基础工具安装"><a href="#基础工具安装" class="headerlink" title="基础工具安装"></a>基础工具安装</h1><p><a name="JqkcJ"></a></p>
<h2 id="homebrew"><a href="#homebrew" class="headerlink" title="homebrew"></a>homebrew</h2><p>官网<a href="https://brew.sh/" target="_blank" rel="noopener">https://brew.sh/</a><br>安装</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/usr/bin/ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"</span><br></pre></td></tr></table></figure>

<p>替换清华源</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">git -C "$(brew --repo)" remote set-url origin https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/brew.git</span><br><span class="line"></span><br><span class="line">git -C "$(brew --repo homebrew/core)" remote set-url origin https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/homebrew-core.git</span><br><span class="line"></span><br><span class="line">git -C "$(brew --repo homebrew/cask)" remote set-url origin https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/homebrew-cask.git</span><br><span class="line"></span><br><span class="line">brew update</span><br></pre></td></tr></table></figure>

<p><strong>还原回官方源（如果镜像无法使用）</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">git -C "$(brew --repo)" remote set-url origin https://github.com/Homebrew/brew.git</span><br><span class="line"></span><br><span class="line">git -C "$(brew --repo homebrew/core)" remote set-url origin https://github.com/Homebrew/homebrew-core.git</span><br><span class="line"></span><br><span class="line">git -C "$(brew --repo homebrew/cask)" remote set-url origin https://github.com/Homebrew/homebrew-cask.git</span><br><span class="line"></span><br><span class="line">brew update</span><br></pre></td></tr></table></figure>

<p>替换Bottles源</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">echo 'export HOMEBREW_BOTTLE_DOMAIN=https://mirrors.tuna.tsinghua.edu.cn/homebrew-bottles' &gt;&gt; ~/.zshrc</span><br><span class="line">source ~/.zshrc</span><br></pre></td></tr></table></figure>

<p><a name="X94pu"></a></p>
<h1 id="zsh"><a href="#zsh" class="headerlink" title="zsh"></a>zsh</h1><p>使用brew安装zsh</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install zsh</span><br></pre></td></tr></table></figure>

<p><a name="2JSH0"></a></p>
<h1 id="iTerm2"><a href="#iTerm2" class="headerlink" title="iTerm2"></a>iTerm2</h1><p>下载安装<a href="https://iterm2.com" target="_blank" rel="noopener">https://iterm2.com</a><br>配置item2的shell为zsh<br><img src="https://cdn.nlark.com/yuque/0/2019/png/489197/1574322092221-b78ac56d-1723-4991-b14e-936ec64e9712.png#align=left&display=inline&height=730&name=image.png&originHeight=1460&originWidth=2060&search=&size=633220&status=done&width=1030" alt="image.png"></p>
<p><a name="qwNR9"></a></p>
<h1 id="oh-my-zsh"><a href="#oh-my-zsh" class="headerlink" title="oh-my-zsh"></a>oh-my-zsh</h1><p><a name="06NFl"></a></p>
<h2 id="安装-https-ohmyz-sh"><a href="#安装-https-ohmyz-sh" class="headerlink" title="安装 https://ohmyz.sh"></a>安装 <a href="https://ohmyz.sh" target="_blank" rel="noopener">https://ohmyz.sh</a></h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sh -c "$(curl -fsSL https://raw.github.com/ohmyzsh/ohmyzsh/master/tools/install.sh)"</span><br></pre></td></tr></table></figure>

<p><a name="kOPL8"></a></p>
<h2 id="安装powerline字体"><a href="#安装powerline字体" class="headerlink" title="安装powerline字体"></a>安装powerline字体</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install powerlevel9k</span><br></pre></td></tr></table></figure>

<p><a name="RFRcB"></a></p>
<h2 id="powerline配置"><a href="#powerline配置" class="headerlink" title="powerline配置"></a>powerline配置</h2><p>在~/.zshrc中配置ZSH_THEME</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ZSH_THEME="powerlevel9k/powerlevel9k"</span><br></pre></td></tr></table></figure>

<p><a name="rlakU"></a></p>
<h3 id="oh-my-zsh插件"><a href="#oh-my-zsh插件" class="headerlink" title="oh-my-zsh插件"></a>oh-my-zsh插件</h3><p>插件列表</p>
<ol>
<li><a href="https://github.com/ohmyzsh/ohmyzsh/tree/master/plugins" target="_blank" rel="noopener">https://github.com/ohmyzsh/ohmyzsh/tree/master/plugins</a></li>
<li><a href="https://github.com/ohmyzsh/ohmyzsh/wiki/Plugins" target="_blank" rel="noopener">https://github.com/ohmyzsh/ohmyzsh/wiki/Plugins</a></li>
</ol>
<p>在~/.zshrc中增加如下配置安装插件</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">plugins=(</span><br><span class="line">  git</span><br><span class="line">  brew</span><br><span class="line">  node</span><br><span class="line">  nvm</span><br><span class="line">  kubectl</span><br><span class="line">  helm</span><br><span class="line">  z</span><br><span class="line">  vi-mode</span><br><span class="line">  zsh-syntax-highlighting</span><br><span class="line">  zsh-autosuggestions</span><br><span class="line">  osx</span><br><span class="line">  colored-man-pages</span><br><span class="line">  catimg</span><br><span class="line">  web-search</span><br><span class="line">  vscode</span><br><span class="line">  docker</span><br><span class="line">  docker-compose</span><br><span class="line">  copydir</span><br><span class="line">  copyfile</span><br><span class="line">  npm</span><br><span class="line">  yarn</span><br><span class="line">  extract</span><br><span class="line">  fzf</span><br><span class="line">)</span><br></pre></td></tr></table></figure>


          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://topcatv.github.com/2019/10/25/yuque/团队协作规范/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="刘易(Roy Liu)">
      <meta itemprop="description" content>
      <meta itemprop="image" content="http://cn.gravatar.com/avatar/d4110ace8be56d4da704c138d8abee09">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="老男将的叨叨">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/10/25/yuque/团队协作规范/" itemprop="url">团队协作规范</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-10-25T10:01:30+08:00">2019-10-25</time>
            

            
            

            
          </span>

          

          
            
          

          
          
             <span id="/2019/10/25/yuque/团队协作规范/" class="leancloud_visitors" data-flag-title="团队协作规范">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          
            <div class="post-symbolscount">
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">2.9k</span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">0:03</span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a name="dYxrl"></a></p>
<h1 id="Git使用"><a href="#Git使用" class="headerlink" title="Git使用"></a>Git使用</h1><p><a name="wjG2T"></a></p>
<h2 id="分支管理与发布策略"><a href="#分支管理与发布策略" class="headerlink" title="分支管理与发布策略"></a>分支管理与发布策略</h2><p>一个仓库只允许一个长期的分支:</p>
<ul>
<li><strong>master 开发分支</strong></li>
</ul>
<p>所有的开发人员基于master分支进行开发。</p>
<p>临时分支：</p>
<ul>
<li>发布分支 - release/{date} <strong>(例：release/**</strong>20190823<strong>**)</strong></li>
<li>线上紧急热修复分支 - hotfix/{date} <strong>(例：hotfix/**</strong>20190823<strong>**)</strong></li>
<li>开发人员临时功能分支 - feature/{feature name} <strong>(例：feature/fileupload)</strong></li>
</ul>
<p>开发模式如下：</p>
<ol>
<li><p>获取最新的代码</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git checkout master</span><br><span class="line">git fetch</span><br><span class="line">git rebase origin/master</span><br></pre></td></tr></table></figure>
</li>
<li><p>本地开发，然后提交</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git add .</span><br><span class="line">git commit</span><br></pre></td></tr></table></figure>
</li>
<li><p>推送到仓库</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git fetch</span><br><span class="line">git rebase origin/master</span><br><span class="line">git push</span><br></pre></td></tr></table></figure>

</li>
</ol>
<p>rebase的时候如果有冲突先解决冲突然后再执行<br></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git add .</span><br><span class="line">git commit</span><br></pre></td></tr></table></figure>

<p>完成后再重复3</p>
<p><em><strong>注意：</strong></em></p>
<blockquote>
<p>这里只能使用rebase，禁止使用merge</p>
</blockquote>
<p><em><strong>建议：</strong></em></p>
<blockquote>
<ol>
<li>如果功能较大，一次代码提交不合适，可多次commit最后再一次性push到主仓</li>
<li>如果多人协同一个功能，尽量使用代码原子性、API版本、提前定义接口等方法，把功能拆小后尽快push到主仓，以免影响协作开发的同事</li>
</ol>
</blockquote>
<p><a name="IoFlu"></a></p>
<h2 id="部署"><a href="#部署" class="headerlink" title="部署"></a>部署</h2><ol>
<li><p>从master拉出一个发布分支</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git checkout master</span><br><span class="line">git checkout -b release/20190309</span><br><span class="line"><span class="meta">#</span> 推到远端库</span><br><span class="line">git push</span><br></pre></td></tr></table></figure>
</li>
<li><p>在发布分支上进行测试与验证</p>
</li>
<li><p>如果验证发现问题，开发人员提交代码到master并cherry-pick到发布分支，回到2继续</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git cherry-pick &lt;fix-shal&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>完成发布打tag</p>
</li>
</ol>
<p>tag命名规则: release-{date}、hotfix-{release_date}-{seq} (例如：release-20190319、hotfix-20190319-1)</p>
<p><a name="GrNLO"></a></p>
<h3 id="热修复过程"><a href="#热修复过程" class="headerlink" title="热修复过程"></a>热修复过程</h3><ol>
<li>从指定tag checkout 一个hotfix分支（该分支一直存在到下一次release版本发布）。</li>
<li>开发人员在master分支上进行修复，然后cherry pick到hotfix分支。</li>
<li>进行测试与验证，如果发现问题回到2继续</li>
<li>发布hotfix分支，并打tag</li>
</ol>
<p><em><strong>注意：</strong></em></p>
<blockquote>
<p>hotfix分支的生命周期应与每一次迭代的生命周期保持一致，上一次发布的热修复会一直在这个分支上进行</p>
</blockquote>
<p><a name="6i6OT"></a></p>
<h2 id="commit-规范"><a href="#commit-规范" class="headerlink" title="commit 规范"></a>commit 规范</h2><blockquote>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">type</span>&gt;</span>: <span class="tag">&lt;<span class="name">subject</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">BLANK</span> <span class="attr">LINE</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>
</blockquote>
<p><a name="L5Ui6"></a></p>
<h3 id="Type（必要）"><a href="#Type（必要）" class="headerlink" title="Type（必要）"></a>Type（必要）</h3><p>描述本次提交的类型。<br>高频：</p>
<ul>
<li>feat: 一个新的功能</li>
<li>fix: 修复 Bug</li>
<li>perf: 提高性能的代码</li>
<li>refactor: 代码重构</li>
<li>style: 编码规范、风格上的修改，不影响功能</li>
<li>test: 测试用例修改</li>
</ul>
<p>低频：</p>
<ul>
<li>docs: 仅改变项目文档</li>
<li>build: 改变项目构建流程或包依赖<br><a name="AjinK"></a><h3 id="Subject（必要）"><a href="#Subject（必要）" class="headerlink" title="Subject（必要）"></a>Subject（必要）</h3>用于描述本次 commit 的简要说明<br><a name="einvO"></a><h3 id="Body（可选）"><a href="#Body（可选）" class="headerlink" title="Body（可选）"></a>Body（可选）</h3>往往用来描述本次 Commit 的动机、需同步给团队的信息等</li>
</ul>
<p>参考：<a href="https://www.conventionalcommits.org/en/v1.0.0/" target="_blank" rel="noopener">https://www.conventionalcommits.org/en/v1.0.0/</a></p>
<p><a name="C1ZrJ"></a></p>
<h3 id="配置git提交模板"><a href="#配置git提交模板" class="headerlink" title="配置git提交模板"></a>配置git提交模板</h3><p>创建文件 <code>.git_commit_template</code></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">type</span>&gt;</span>: <span class="tag">&lt;<span class="name">subject</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>设置为git提交模板</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global commit.template $HOME/.git_commit_template</span><br></pre></td></tr></table></figure>

<p><a name="k2KW3"></a></p>
<h1 id="API接口文档"><a href="#API接口文档" class="headerlink" title="API接口文档"></a>API接口文档</h1><p>为什么我们要使用API接口文档？当前大部分的项目都是前后端分离的开发模式，前端与后台开发必须基于约定进行开发，这样才能并行开发。接口的变化及版本也需要记录并标记下来。对于测试人员也可以提前针对接口编写自动化的测试脚本，可以更早的发现问题。</p>
<p>API接口文档我们选用去哪网前端团队开发的<a href="https://hellosean1025.github.io/yapi/" target="_blank" rel="noopener">YApi</a>，具体的使用手册请参考<a href="https://hellosean1025.github.io/yapi/documents/index.html" target="_blank" rel="noopener">这里</a>。<br>其功能包括：</p>
<ul>
<li>可视化接口管理</li>
<li>数据mock</li>
<li>自动化接口测试</li>
<li>数据导入（各种，包括swagger、har、postman、json、命令行）</li>
<li>权限管理</li>
<li>支持本地化部署</li>
<li>支持插件</li>
<li>支持二次开发</li>
</ul>
<p>对于后台开发人员编写API接口文档有以下两种推荐方式：</p>
<ol>
<li>swagger导入</li>
<li>har导入</li>
</ol>
<p>Swagger导入，可以在项目中集成Swagger，并使用<a href="https://github.com/kongchen/swagger-maven-plugin" target="_blank" rel="noopener">Swagger maven plugin</a>在每次打包时生成swagger的json格式api，可直接导入YApi。<br>HAR导入，har是HTTP Archive format的简称，我们写好代码，在开发自测调试时可以在chrome中访问我们的接口，chrome可以自动记录并将所有的请求保存为har格式的文件并导入YApi，如下图所示。<br><img src="https://cdn.nlark.com/yuque/0/2019/png/489197/1572498603899-d1959630-6391-43de-aacc-296a90750f2e.png#align=left&display=inline&height=534&name=Snipaste_2019-10-31_13-09-48.png&originHeight=534&originWidth=1428&search=&size=117605&status=done&width=1428" alt="Snipaste_2019-10-31_13-09-48.png"></p>
<p><a name="6cc4W"></a></p>
<h1 id="代码评审-CodeReview"><a href="#代码评审-CodeReview" class="headerlink" title="代码评审 - CodeReview"></a>代码评审 - CodeReview</h1><p>代码评审在不管任何项目或产品的开发过程中都是不可或缺的一步。一般项目都不会由一个人开发完成，都是由团队中的多人共同合作完成，但团队中的人员级别不一素质不同，因此代码评审可以帮助团队生产出的代码质量更均一，初级的开发人员可以更快速的提升自己能力，一些bug可以尽早发现。除此外还为什么我们强调代码评审是一个不可或缺的一步？如果不这样做为有什么问题？</p>
<ul>
<li>没有人可以完全了解一个项目所包含的所有代码，因为这些代码是由不同的人编写的。</li>
<li>项目中的某些代码都只有作者自己才能看到。</li>
<li>质量差的代码很可能会长期存在。</li>
<li>没有人应对他人的代码负责，甚至不为自己的代码负责。</li>
<li>团队成员发现很难获得经验并提高编码技能。</li>
<li>糟糕的代码在测试阶段将会引起许多小问题。</li>
<li>糟糕的代码会在开发人员修复bug时造成很大的困难（改出更多的bug）。</li>
<li>当新开发人员加入项目时，他们的代码可能是风险最高的代码。</li>
<li>对三个月前的代码进行重构将会非常复杂。</li>
</ul>
<p>因此我们需要通过代码评审来解决上面这些问题。</p>
<p>对于一个新的功能或业务的开发（已有功能的修改和bugfix不算在内，除非这个改动影响比较大），其代码入库前需要进行代码评审，我们这里采用基于GitLab的Merge Request进行Code Review，步骤如下：</p>
<ol>
<li><p>获取最新的代码</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git checkout master</span><br><span class="line">git fetch</span><br><span class="line">git rebase origin/master</span><br></pre></td></tr></table></figure>
</li>
<li><p>签出到功能分支</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout -b feature/***</span><br></pre></td></tr></table></figure>
</li>
<li><p>本地开发并提交</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git add .</span><br><span class="line">git commit</span><br></pre></td></tr></table></figure>
</li>
<li><p>push到远端</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push</span><br></pre></td></tr></table></figure>
</li>
<li><p>发起merge request</p>
</li>
</ol>
<p><img src="https://cdn.nlark.com/yuque/0/2019/png/489197/1572488774370-de5a141c-2058-4c3e-b263-cf1e92120bd0.png#align=left&display=inline&height=17340&originHeight=17340&originWidth=6400&search=&size=0&status=done&width=6400" alt></p>
<ol start="6">
<li>评审并批注，如果不通过回到3<img src="https://cdn.nlark.com/yuque/0/2019/png/489197/1572490177772-5d889232-2c7f-4928-9343-8f42a36e3131.png#align=left&display=inline&height=10240&originHeight=10240&originWidth=6400&search=&size=0&status=done&width=6400" alt></li>
<li>评审人进行merge，如有冲突先解决冲突</li>
</ol>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://topcatv.github.com/2019/09/29/yuque/Guava学习记录/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="刘易(Roy Liu)">
      <meta itemprop="description" content>
      <meta itemprop="image" content="http://cn.gravatar.com/avatar/d4110ace8be56d4da704c138d8abee09">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="老男将的叨叨">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/09/29/yuque/Guava学习记录/" itemprop="url">Guava学习记录</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-09-29T14:40:11+08:00">2019-09-29</time>
            

            
            

            
          </span>

          

          
            
          

          
          
             <span id="/2019/09/29/yuque/Guava学习记录/" class="leancloud_visitors" data-flag-title="Guava学习记录">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          
            <div class="post-symbolscount">
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">11k</span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">0:11</span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Guava简介<br></p>
<blockquote>
<p>The Guava project contains several of Google’s core libraries that we rely on in our Java-based projects: collections, caching, primitives support, concurrency libraries, common annotations, string processing, I/O, and so forth. Each of these tools really do get used every day by Googlers, in production services.<br><br>But trawling through Javadoc isn’t always the most effective way to learn how to make best use of a library. Here, we try to provide readable and pleasant explanations of some of the most popular and most powerful features of Guava.</p>
</blockquote>
<p>Guava工程包含了若干被Google的 Java项目广泛依赖 的核心库，例如：集合 [collections] 、缓存 [caching] 、原生类型支持 [primitives support] 、并发库 [concurrency libraries] 、通用注解 [common annotations] 、字符串处理 [string processing] 、I/O 等等。 所有这些工具每天都在被Google的工程师应用在产品服务中。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2019/png/489197/1569752130604-bbcd2b37-9100-4405-a0de-b87b16ef23d9.png" alt><br><a name="nDkTH"></a></p>
<h2 id="基本工具"><a href="#基本工具" class="headerlink" title="基本工具"></a>基本工具</h2><p><a name="FKkBy"></a></p>
<h3 id="避免null"><a href="#避免null" class="headerlink" title="避免null"></a>避免null</h3><ul>
<li>返回的集合类型不要使用null<ul>
<li>是不是没有记录？？比较含糊</li>
</ul>
</li>
<li>set中不要使用null<ul>
<li>如果有多个null放到set无法区分，如果是一个变量放入set，你不知道他是不是null</li>
</ul>
</li>
<li>map中的key不要使用null<ul>
<li>多个null的key被覆盖，如果是变量作为key，你不知道他是不是null</li>
</ul>
</li>
</ul>
<p>示例:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Optional&lt;Object&gt; opt = Optional.fromNullable(<span class="keyword">null</span>);</span><br><span class="line">assertFalse(<span class="string">"不应该有"</span>, opt.isPresent());</span><br><span class="line">assertEquals(<span class="string">"null"</span>, opt.or(<span class="string">"null"</span>));</span><br><span class="line">opt = Optional.absent();</span><br><span class="line">assertFalse(<span class="string">"不应该有"</span>, opt.isPresent());</span><br><span class="line">opt = Optional.of(<span class="string">"null"</span>);</span><br><span class="line">assertEquals(<span class="string">"null"</span>, opt.get());</span><br><span class="line">Optional.of(<span class="keyword">null</span>);</span><br></pre></td></tr></table></figure>

<p>对于jdk1.8来说可以使用java.util.Optional来代替<br><a name="9e5na"></a></p>
<h2 id="前置条件"><a href="#前置条件" class="headerlink" title="前置条件"></a>前置条件</h2><p><a name="pvLld"></a></p>
<h3 id="参数检查"><a href="#参数检查" class="headerlink" title="参数检查"></a>参数检查</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> i = -<span class="number">1</span>, j = -<span class="number">32</span>;</span><br><span class="line">assertThrows(IllegalArgumentException.class, () -&gt; checkArgument(i &gt;= <span class="number">0</span>, <span class="string">"参数是%s，预期是一个正数"</span>, i));</span><br><span class="line">assertThrows(IllegalArgumentException.class, () -&gt; checkArgument(i &lt; j, <span class="string">"需要i &lt; j，但是 %s &gt;= %s"</span>, i, j));</span><br></pre></td></tr></table></figure>

<p>这些可以帮助方法快速失败</p>
<p><a name="X0Wxo"></a></p>
<h2 id="通用Object方法"><a href="#通用Object方法" class="headerlink" title="通用Object方法"></a>通用Object方法</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">assertTrue(Objects.equal(<span class="string">"a"</span>, <span class="string">"a"</span>)); <span class="comment">// returns true</span></span><br><span class="line">assertFalse(Objects.equal(<span class="keyword">null</span>, <span class="string">"a"</span>)); <span class="comment">// returns false</span></span><br><span class="line">assertFalse(Objects.equal(<span class="string">"a"</span>, <span class="keyword">null</span>)); <span class="comment">// returns false</span></span><br><span class="line">assertTrue(Objects.equal(<span class="keyword">null</span>, <span class="keyword">null</span>)); <span class="comment">// returns true</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestPojo</span> <span class="keyword">implements</span> <span class="title">Comparable</span>&lt;<span class="title">TestPojo</span>&gt; </span>&#123;</span><br><span class="line">    </span><br><span class="line">    ...</span><br><span class="line">        </span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> MoreObjects.toStringHelper(<span class="keyword">this</span>)</span><br><span class="line">                .add(<span class="string">"desc"</span>, desc)</span><br><span class="line">                .add(<span class="string">"user"</span>, user)</span><br><span class="line">                .add(<span class="string">"price"</span>, price)</span><br><span class="line">                .add(<span class="string">"title"</span>, title)</span><br><span class="line">                .add(<span class="string">"buyCount"</span>, buyCount)</span><br><span class="line">                .add(<span class="string">"viewCount"</span>, viewCount)</span><br><span class="line">                .add(<span class="string">"contentSize"</span>, contentSize)</span><br><span class="line">                .add(<span class="string">"img"</span>, img)</span><br><span class="line">                .add(<span class="string">"category"</span>, category)</span><br><span class="line">                .add(<span class="string">"createdAt"</span>, createdAt)</span><br><span class="line">                .add(<span class="string">"updatedAt"</span>, updatedAt)</span><br><span class="line">                .add(<span class="string">"finishedAt"</span>, finishedAt)</span><br><span class="line">                .add(<span class="string">"isFinished"</span>, isFinished)</span><br><span class="line">                .add(<span class="string">"isDeleted"</span>, isDeleted)</span><br><span class="line">                .add(<span class="string">"isHot"</span>, isHot)</span><br><span class="line">                .add(<span class="string">"isPublish"</span>, isPublish)</span><br><span class="line">                .add(<span class="string">"isShow"</span>, isShow)</span><br><span class="line">                .add(<span class="string">"profile"</span>, profile)</span><br><span class="line">                .add(<span class="string">"lastSectionCount"</span>, lastSectionCount)</span><br><span class="line">                .add(<span class="string">"pv"</span>, pv)</span><br><span class="line">                .add(<span class="string">"timeLimitDiscountFirstDay"</span>, timeLimitDiscountFirstDay)</span><br><span class="line">                .add(<span class="string">"timeLimitDiscount"</span>, timeLimitDiscount)</span><br><span class="line">                .add(<span class="string">"wechatSignal"</span>, wechatSignal)</span><br><span class="line">                .add(<span class="string">"wechatImg"</span>, wechatImg)</span><br><span class="line">                .add(<span class="string">"wechatImgDesc"</span>, wechatImgDesc)</span><br><span class="line">                .add(<span class="string">"url"</span>, url)</span><br><span class="line">                .add(<span class="string">"section"</span>, section)</span><br><span class="line">                .add(<span class="string">"tags"</span>, tags)</span><br><span class="line">                .toString();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compareTo</span><span class="params">(TestPojo that)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> ComparisonChain.start()</span><br><span class="line">            .compare(<span class="keyword">this</span>.buyCount, that.buyCount)</span><br><span class="line">            .compare(<span class="keyword">this</span>.contentSize, that.contentSize)</span><br><span class="line">            .result();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>对Objects来说如果使用的是jdk1.7，那么可以使用java.util.Object来代替</p>
<p><a name="MKJno"></a></p>
<h2 id="排序器"><a href="#排序器" class="headerlink" title="排序器"></a>排序器</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">String[] array = &#123;<span class="string">"1"</span>, <span class="string">"2"</span>, <span class="keyword">null</span>, <span class="string">"3"</span>, <span class="string">"12"</span>, <span class="keyword">null</span>, <span class="string">"14"</span>&#125;;</span><br><span class="line">assertThrows(NullPointerException.class, () -&gt; Arrays.sort(array, Ordering.natural()));</span><br><span class="line">logger.info(Arrays.toString(array)); <span class="comment">// [1, 2, null, 3, 12, null, 14]</span></span><br><span class="line"></span><br><span class="line">Arrays.sort(array, Ordering.natural().nullsFirst());</span><br><span class="line">assertArrayEquals(<span class="keyword">new</span> String[]&#123;<span class="keyword">null</span>, <span class="keyword">null</span>, <span class="string">"1"</span>, <span class="string">"12"</span>, <span class="string">"14"</span>, <span class="string">"2"</span>, <span class="string">"3"</span>&#125;, array);</span><br><span class="line">logger.info(Arrays.toString(array)); <span class="comment">// [null, null, 1, 12, 14, 2, 3]</span></span><br><span class="line"></span><br><span class="line">Arrays.sort(array, Ordering.natural().nullsLast());</span><br><span class="line">assertArrayEquals(<span class="keyword">new</span> String[]&#123;<span class="string">"1"</span>, <span class="string">"12"</span>, <span class="string">"14"</span>, <span class="string">"2"</span>, <span class="string">"3"</span>, <span class="keyword">null</span>, <span class="keyword">null</span>&#125;, array);</span><br><span class="line">logger.info(Arrays.toString(array)); <span class="comment">// [1, 12, 14, 2, 3, null, null]</span></span><br><span class="line"></span><br><span class="line">Arrays.sort(array, Ordering.natural().reverse().nullsLast());</span><br><span class="line">assertArrayEquals(<span class="keyword">new</span> String[]&#123;<span class="string">"3"</span>, <span class="string">"2"</span>, <span class="string">"14"</span>, <span class="string">"12"</span>, <span class="string">"1"</span>, <span class="keyword">null</span>, <span class="keyword">null</span>&#125;, array);</span><br><span class="line">logger.info(Arrays.toString(array)); <span class="comment">// [3, 2, 14, 12, 1, null, null]</span></span><br><span class="line"></span><br><span class="line">Arrays.sort(array, Ordering.natural().nullsLast().reverse());</span><br><span class="line">assertArrayEquals(<span class="keyword">new</span> String[]&#123;<span class="keyword">null</span>, <span class="keyword">null</span>, <span class="string">"3"</span>, <span class="string">"2"</span>, <span class="string">"14"</span>, <span class="string">"12"</span>, <span class="string">"1"</span>&#125;, array);</span><br><span class="line">logger.info(Arrays.toString(array)); <span class="comment">// [null, null, 3, 2, 14, 12, 1]</span></span><br><span class="line"></span><br><span class="line">Arrays.sort(array, Ordering.natural().onResultOf(<span class="keyword">new</span> Function&lt;String, Integer&gt;() &#123;</span><br><span class="line">    <span class="meta">@Nullable</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Integer <span class="title">apply</span><span class="params">(@Nullable String input)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> Integer.valueOf(Optional.fromNullable(input).or(<span class="string">"-1"</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;));</span><br><span class="line">assertArrayEquals(<span class="keyword">new</span> String[]&#123;<span class="keyword">null</span>, <span class="keyword">null</span>, <span class="string">"1"</span>, <span class="string">"2"</span>, <span class="string">"3"</span>, <span class="string">"12"</span>, <span class="string">"14"</span>&#125;, array);</span><br><span class="line">logger.info(Arrays.toString(array)); <span class="comment">// [null, null, 1, 2, 3, 12, 14]</span></span><br></pre></td></tr></table></figure>

<p><a name="G8N5o"></a></p>
<h2 id="异常处理"><a href="#异常处理" class="headerlink" title="异常处理"></a>异常处理</h2><p>好像也没有什么可说的</p>
<p><a name="4M7Al"></a></p>
<h1 id="集合"><a href="#集合" class="headerlink" title="集合"></a>集合</h1><p><a name="JUY4S"></a></p>
<h2 id="不可变集合"><a href="#不可变集合" class="headerlink" title="不可变集合"></a>不可变集合</h2><p>不可变对象有以下优点：</p>
<ol>
<li>被第三方库使用时是安全的（不会被修改了还不知道 ）</li>
<li>线程安全：多线程使用时没有条件竞争风险</li>
<li>无需支持变化，能节约时间与空间。所有的不可变集合比可变集合的实现在内存上效率更好</li>
<li>可用作常量</li>
</ol>
<p>构造对象的不可变拷贝是一个好的防御性编程技巧。<br>JDK也提供了Collections.unmodifiableXXX方法把集合包装为不可变形式，但这些方法有以下问题：</p>
<ol>
<li>使用不便</li>
<li>不安全，不一定是真正的不可变</li>
<li>低效，数据结构仍是在可变集合基础上实现的</li>
</ol>
<p>注意：所有的Guava的不可变集合都不支持null值元素，如果发现null值会快速失败</p>
<p>使用方式</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">ImmutableSet.copyOf(set);</span><br><span class="line">ImmutableSet.of(<span class="string">"a"</span>, <span class="string">"b"</span>, <span class="string">"c"</span>);</span><br><span class="line">ImmutableMap.of(<span class="string">"a"</span>, <span class="number">1</span>, <span class="string">"b"</span>, <span class="number">2</span>);</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> ImmutableSet&lt;Color&gt; GOOGLE_COLORS =</span><br><span class="line">   ImmutableSet.&lt;Color&gt;builder()</span><br><span class="line">       .addAll(WEBSAFE_COLORS)</span><br><span class="line">       .add(<span class="keyword">new</span> Color(<span class="number">0</span>, <span class="number">191</span>, <span class="number">255</span>))</span><br><span class="line">       .build();</span><br></pre></td></tr></table></figure>

<p><a name="SjhiZ"></a></p>
<h3 id="新的集合类型"><a href="#新的集合类型" class="headerlink" title="新的集合类型"></a>新的集合类型</h3><p>multisets, multimaps, tables, bidirectional maps<br><a name="vSxAc"></a></p>
<h2 id="Multiset"><a href="#Multiset" class="headerlink" title="Multiset"></a>Multiset</h2><p>继承于collection，这里的set是数学中集合的意思，并不是java不是Set接口。（把Multiset当成List一样用就可以了）<br>用于计数</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Map&lt;String, Integer&gt; counts = <span class="keyword">new</span> HashMap&lt;String, Integer&gt;();</span><br><span class="line"><span class="keyword">for</span> (String word : words) &#123;</span><br><span class="line">  Integer count = counts.get(word);</span><br><span class="line">  <span class="keyword">if</span> (count == <span class="keyword">null</span>) &#123;</span><br><span class="line">    counts.put(word, <span class="number">1</span>);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    counts.put(word, count + <span class="number">1</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>使用Multset</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">List&lt;String&gt; list = Lists.newArrayList(<span class="string">"hello"</span>, <span class="string">"guava"</span>, <span class="string">"hello"</span>, <span class="string">"world"</span>);</span><br><span class="line">HashMultiset&lt;String&gt; multiset = HashMultiset.create();</span><br><span class="line">multiset.addAll(list);</span><br><span class="line">assertEquals(<span class="number">2</span>, multiset.count(<span class="string">"hello"</span>));</span><br><span class="line">assertEquals(<span class="number">1</span>, multiset.count(<span class="string">"guava"</span>));</span><br><span class="line">assertEquals(<span class="number">0</span>, multiset.count(<span class="string">"guave"</span>));</span><br></pre></td></tr></table></figure>

<p>Multiset的实现有</p>
<table>
<thead>
<tr>
<th><strong>Map</strong></th>
<th><strong>Corresponding Multiset</strong></th>
<th><strong>Supports null elements</strong></th>
</tr>
</thead>
<tbody><tr>
<td>HashMap</td>
<td>HashMultiset</td>
<td>Yes</td>
</tr>
<tr>
<td>TreeMap</td>
<td>TreeMultiset</td>
<td>Yes</td>
</tr>
<tr>
<td>LinkedHashMap</td>
<td>LinkedHashMultiset</td>
<td>Yes</td>
</tr>
<tr>
<td>ConcurrentHashMap</td>
<td>ConcurrentHashMultiset</td>
<td>No</td>
</tr>
<tr>
<td>ImmutableMap</td>
<td>ImmutableMultiset</td>
<td>No</td>
</tr>
</tbody></table>
<p><a name="dFEuW"></a></p>
<h4 id="SortedMultiset"><a href="#SortedMultiset" class="headerlink" title="SortedMultiset"></a>SortedMultiset</h4><p>它是Multiset的一个变种，能按给定的范围高效的获取子集</p>
<p><a name="Z32Gd"></a></p>
<h2 id="Multimap"><a href="#Multimap" class="headerlink" title="Multimap"></a>Multimap</h2><p>每个有经验的Java程序员都在某处实现过Map&lt;K, List<v>&gt;或Map&lt;K, Set<v>&gt;，比如，我要做一个归类操作，把复合某种特征的数据放归到一起，就可以使用这个接口，Multimap是把键映射到任意多个值的一般方式。<br>不会有任何键映射到空集合：一个键要么至少到一个值，要么根本就不在Multimap中。<br>很少会直接使用Multimap接口，更多时候你会用ListMultimap或SetMultimap接口，它们分别把键映射到List或Set。</v></v></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">List&lt;String&gt; list = Lists.newArrayList(<span class="string">"hello"</span>, <span class="string">"guava"</span>, <span class="string">"hello"</span>, <span class="string">"world"</span>);</span><br><span class="line">HashMultiset&lt;String&gt; multiset = HashMultiset.create();</span><br><span class="line">multiset.addAll(list);</span><br><span class="line">assertEquals(<span class="number">2</span>, multiset.count(<span class="string">"hello"</span>));</span><br><span class="line">assertEquals(<span class="number">1</span>, multiset.count(<span class="string">"guava"</span>));</span><br><span class="line">assertEquals(<span class="number">0</span>, multiset.count(<span class="string">"guave"</span>));</span><br><span class="line"></span><br><span class="line">Multimap&lt;Integer, Integer&gt; listMultimap = MultimapBuilder.treeKeys().arrayListValues().build();</span><br><span class="line">Multimap&lt;Integer, Integer&gt; setMultimap = MultimapBuilder.hashKeys().hashSetValues().build();</span><br><span class="line"></span><br><span class="line">listMultimap.put(<span class="number">1</span>, <span class="number">2</span>);</span><br><span class="line">listMultimap.put(<span class="number">1</span>, <span class="number">2</span>);</span><br><span class="line">listMultimap.put(<span class="number">1</span>, <span class="number">3</span>);</span><br><span class="line">listMultimap.put(<span class="number">1</span>, <span class="number">4</span>);</span><br><span class="line">listMultimap.put(<span class="number">2</span>, <span class="number">3</span>);</span><br><span class="line">listMultimap.put(<span class="number">3</span>, <span class="number">3</span>);</span><br><span class="line">listMultimap.put(<span class="number">4</span>, <span class="number">3</span>);</span><br><span class="line">listMultimap.put(<span class="number">5</span>, <span class="number">3</span>);</span><br><span class="line"></span><br><span class="line">setMultimap.put(<span class="number">1</span>, <span class="number">2</span>);</span><br><span class="line">setMultimap.put(<span class="number">1</span>, <span class="number">2</span>);</span><br><span class="line">setMultimap.put(<span class="number">1</span>, <span class="number">3</span>);</span><br><span class="line">setMultimap.put(<span class="number">1</span>, <span class="number">4</span>);</span><br><span class="line">setMultimap.put(<span class="number">2</span>, <span class="number">3</span>);</span><br><span class="line">setMultimap.put(<span class="number">3</span>, <span class="number">3</span>);</span><br><span class="line">setMultimap.put(<span class="number">4</span>, <span class="number">3</span>);</span><br><span class="line">setMultimap.put(<span class="number">5</span>, <span class="number">3</span>);</span><br><span class="line"></span><br><span class="line">assertEquals(<span class="number">4</span>, listMultimap.get(<span class="number">1</span>).size());</span><br><span class="line">assertEquals(<span class="number">0</span>, listMultimap.get(<span class="number">6</span>).size());</span><br><span class="line">assertNull(listMultimap.asMap().get(<span class="number">6</span>));</span><br><span class="line"></span><br><span class="line">assertEquals(<span class="number">3</span>, setMultimap.get(<span class="number">1</span>).size());</span><br><span class="line"><span class="comment">// 对值视图集合进行的修改最终都会反映到底层的Multimap</span></span><br><span class="line">setMultimap.get(<span class="number">1</span>).remove(<span class="number">2</span>);</span><br><span class="line">assertEquals(<span class="number">2</span>, setMultimap.get(<span class="number">1</span>).size());</span><br><span class="line"></span><br><span class="line">assertTrue(listMultimap.containsKey(<span class="number">1</span>));</span><br><span class="line">assertFalse(listMultimap.containsKey(<span class="number">6</span>));</span><br></pre></td></tr></table></figure>

<p><a name="cEoWH"></a></p>
<h2 id="BiMap"><a href="#BiMap" class="headerlink" title="BiMap"></a>BiMap</h2><p>传统上，实现键值对的双向映射需要维护两个单独的map，并保持它们间的同步。但这种方式很容易出错，而且对于值已经在map中的情况，会变得非常混乱。例如：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Map&lt;String, Integer&gt; nameToId = Maps.newHashMap();</span><br><span class="line">Map&lt;Integer, String&gt; idToName = Maps.newHashMap();</span><br><span class="line"></span><br><span class="line">nameToId.put(<span class="string">"Bob"</span>, <span class="number">42</span>);</span><br><span class="line">idToName.put(<span class="number">42</span>, <span class="string">"Bob"</span>);</span><br><span class="line"><span class="comment">// what happens if "Bob" or 42 are already present?</span></span><br><span class="line"><span class="comment">// weird bugs can arise if we forget to keep these in sync...</span></span><br></pre></td></tr></table></figure>

<p>BiMap&lt;K, V&gt;是特殊的Map：</p>
<ul>
<li>允许你使用inverse()方法去反转BiMap&lt;V, K&gt;的键值</li>
<li>保证值是唯一的，values()返回一个Set</li>
</ul>
<p>使用BiMap.put(key, value)方法去添加一个已存在的key将会引起IllegalArgumentException异常，如果你想强制替换就要使用BiMap.forcePut(key, value)</p>
<p><a name="ZszIi"></a></p>
<h2 id="Table"><a href="#Table" class="headerlink" title="Table"></a>Table</h2><p>通常来说，当你想使用多个键做索引的时候，你可能会用类似Map&lt;FirstName, Map&lt;LastName, Person&gt;&gt;的实现，这种方式很丑陋，使用上也不友好。Guava为此提供了新集合类型Table，它有两个支持所有类型的键：”行”和”列”。Table提供多种视图，以便你从各种角度使用它：</p>
<ul>
<li>rowMap()：用Map&lt;R, Map&lt;C, V&gt;&gt;表现Table&lt;R, C, V&gt;。同样的， rowKeySet()返回“行”的集合Set<r>。</r></li>
<li>row(r) ：用Map&lt;C, V&gt;返回给定“行”的所有列，对这个map进行的写操作也将写入Table中。</li>
<li>类似的列访问方法：columnMap()、columnKeySet()、column(c)。（基于列的访问会比基于的行访问稍微低效点）</li>
<li>cellSet()：用元素类型为Table.Cell&lt;R, C, V&gt;的Set表现Table&lt;R, C, V&gt;。Cell类似于Map.Entry，但它是用行和列两个键区分的。</li>
</ul>
<p>给出一个学生-课程-成绩表:</p>
<table>
<thead>
<tr>
<th>a</th>
<th>javase</th>
<th>80</th>
</tr>
</thead>
<tbody><tr>
<td>b</td>
<td>javaee</td>
<td>90</td>
</tr>
<tr>
<td>c</td>
<td>javame</td>
<td>100</td>
</tr>
<tr>
<td>d</td>
<td>guava</td>
<td>60</td>
</tr>
</tbody></table>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">Table&lt;String, String, Integer&gt; tables = HashBasedTable.create();</span><br><span class="line">tables.put(<span class="string">"a"</span>, <span class="string">"javase"</span>, <span class="number">80</span>);</span><br><span class="line">tables.put(<span class="string">"b"</span>, <span class="string">"javaee"</span>, <span class="number">90</span>);</span><br><span class="line">tables.put(<span class="string">"c"</span>, <span class="string">"javame"</span>, <span class="number">100</span>);</span><br><span class="line">tables.put(<span class="string">"c"</span>, <span class="string">"javaee"</span>, <span class="number">80</span>);</span><br><span class="line">tables.put(<span class="string">"d"</span>, <span class="string">"guava"</span>, <span class="number">70</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 所有学生</span></span><br><span class="line">Set&lt;String&gt; students = tables.rowKeySet();</span><br><span class="line">assertEquals(Sets.newHashSet(<span class="string">"a"</span>, <span class="string">"b"</span>, <span class="string">"c"</span>, <span class="string">"d"</span>), students);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 找到对应学生和科目的成绩</span></span><br><span class="line">assertEquals(<span class="number">100</span>, tables.get(<span class="string">"c"</span>, <span class="string">"javame"</span>).intValue());</span><br><span class="line">assertEquals(<span class="number">80</span>, tables.get(<span class="string">"c"</span>, <span class="string">"javaee"</span>).intValue());</span><br><span class="line"></span><br><span class="line"><span class="comment">// 所有课程</span></span><br><span class="line">Set&lt;String&gt; courses = tables.columnKeySet();</span><br><span class="line">assertEquals(Sets.newHashSet(<span class="string">"javase"</span>, <span class="string">"javaee"</span>, <span class="string">"javame"</span>, <span class="string">"guava"</span>), courses);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 所有分数</span></span><br><span class="line">Collection&lt;Integer&gt; scores = tables.values();</span><br><span class="line">assertArrayEquals(Lists.newArrayList(<span class="number">80</span>, <span class="number">90</span>, <span class="number">100</span>, <span class="number">80</span>, <span class="number">70</span>).toArray(<span class="keyword">new</span> Integer[]&#123;&#125;), scores.toArray(<span class="keyword">new</span> Integer[]&#123;&#125;));</span><br></pre></td></tr></table></figure>

<p><a name="CVRQ6"></a></p>
<h2 id="RangeSet"><a href="#RangeSet" class="headerlink" title="RangeSet"></a>RangeSet</h2><p>RangeSet描述了一组不相连的、非空的区间。当把一个区间添加到可变的RangeSet时，所有相连的区间会被合并，空区间会被忽略。例如：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">RangeSet&lt;Integer&gt; rangeSet = TreeRangeSet.create();</span><br><span class="line">rangeSet.add(Range.closed(<span class="number">1</span>, <span class="number">10</span>)); <span class="comment">// &#123;[1,10]&#125;</span></span><br><span class="line">rangeSet.add(Range.closedOpen(<span class="number">11</span>, <span class="number">15</span>));<span class="comment">//不相连区间:&#123;[1,10], [11,15)&#125;</span></span><br><span class="line">rangeSet.add(Range.closedOpen(<span class="number">15</span>, <span class="number">20</span>)); <span class="comment">//相连区间; &#123;[1,10], [11,20)&#125;</span></span><br><span class="line">rangeSet.add(Range.openClosed(<span class="number">0</span>, <span class="number">0</span>)); <span class="comment">//空区间; &#123;[1,10], [11,20)&#125;</span></span><br><span class="line">rangeSet.remove(Range.open(<span class="number">5</span>, <span class="number">10</span>)); <span class="comment">//分割[1, 10]; &#123;[1,5], [10,10], [11,20)&#125;</span></span><br></pre></td></tr></table></figure>

<p><a name="jJQSI"></a></p>
<h2 id="RangeMap"><a href="#RangeMap" class="headerlink" title="RangeMap"></a>RangeMap</h2><p>RangeMap描述了”不相交的、非空的区间”到特定值的映射。和RangeSet不同，RangeMap不会合并相邻的映射，即便相邻的区间映射到相同的值。例如：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">RangeMap&lt;Integer, String&gt; rangeMap = TreeRangeMap.create();</span><br><span class="line">rangeMap.put(Range.closed(<span class="number">1</span>, <span class="number">10</span>), <span class="string">"foo"</span>); <span class="comment">//&#123;[1,10] =&gt; "foo"&#125;</span></span><br><span class="line">rangeMap.put(Range.open(<span class="number">3</span>, <span class="number">6</span>), <span class="string">"bar"</span>); <span class="comment">//&#123;[1,3] =&gt; "foo", (3,6) =&gt; "bar", [6,10] =&gt; "foo"&#125;</span></span><br><span class="line">rangeMap.put(Range.open(<span class="number">10</span>, <span class="number">20</span>), <span class="string">"foo"</span>); <span class="comment">//&#123;[1,3] =&gt; "foo", (3,6) =&gt; "bar", [6,10] =&gt; "foo", (10,20) =&gt; "foo"&#125;</span></span><br><span class="line">rangeMap.remove(Range.closed(<span class="number">5</span>, <span class="number">11</span>)); <span class="comment">//&#123;[1,3] =&gt; "foo", (3,5) =&gt; "bar", (11,20) =&gt; "foo"&#125;</span></span><br></pre></td></tr></table></figure>

<p><a name="qAuLk"></a></p>
<h1 id="字符工具"><a href="#字符工具" class="headerlink" title="字符工具"></a>字符工具</h1><ul>
<li>Joiner</li>
<li>Splitter</li>
<li>CharMatcher</li>
<li>Charsets</li>
<li>CaseFormat</li>
</ul>
<p>CaseFormat在做代码生成器的时候是非常有用的，比如：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CaseFormat.UPPER_UNDERSCORE.to(CaseFormat.LOWER_CAMEL, <span class="string">"CONSTANT_NAME"</span>));</span><br></pre></td></tr></table></figure>


          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://topcatv.github.com/2019/09/15/yuque/springboot集成docker/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="刘易(Roy Liu)">
      <meta itemprop="description" content>
      <meta itemprop="image" content="http://cn.gravatar.com/avatar/d4110ace8be56d4da704c138d8abee09">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="老男将的叨叨">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/09/15/yuque/springboot集成docker/" itemprop="url">springboot集成docker</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-09-15T22:17:33+08:00">2019-09-15</time>
            

            
            

            
          </span>

          

          
            
          

          
          
             <span id="/2019/09/15/yuque/springboot集成docker/" class="leancloud_visitors" data-flag-title="springboot集成docker">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          
            <div class="post-symbolscount">
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">1.9k</span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">0:02</span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a name="Q2NUs"></a></p>
<h2 id="maven添加依赖"><a href="#maven添加依赖" class="headerlink" title="maven添加依赖"></a>maven添加依赖</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- Docker maven plugin --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.spotify<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>dockerfile-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.4.12<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">repository</span>&gt;</span>$&#123;docker.image.prefix&#125;/$&#123;project.artifactId&#125;<span class="tag">&lt;/<span class="name">repository</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">useMavenSettingsForAuth</span>&gt;</span>true<span class="tag">&lt;/<span class="name">useMavenSettingsForAuth</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">buildArgs</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">JAR_FILE</span>&gt;</span>target/$&#123;project.build.finalName&#125;.jar<span class="tag">&lt;/<span class="name">JAR_FILE</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">buildArgs</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><a name="gyZm4"></a></p>
<h2 id="使用aliyun镜像私库"><a href="#使用aliyun镜像私库" class="headerlink" title="使用aliyun镜像私库"></a>使用aliyun镜像私库</h2><ol>
<li>maven配置私库账号密码<br>配置setting.xml文件 ${user.home}/.m2/settings.xml, 这里的${user.home}就是用户主目录，windows里在C:\Users\下你的用户名目录，mac在/Home/下你的用户名目录</li>
</ol>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="tag">&lt;<span class="name">server</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">id</span>&gt;</span>registry.cn-beijing.aliyuncs.com<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">username</span>&gt;</span>topcatii@126.com<span class="tag">&lt;/<span class="name">username</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">password</span>&gt;</span>********<span class="tag">&lt;/<span class="name">password</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">email</span>&gt;</span>topcatii@126.com<span class="tag">&lt;/<span class="name">email</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">server</span>&gt;</span></span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<p>这里的密码用明文是比较危险的，所以还要加密</p>
<ol start="2">
<li>创建master password<br></li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvn --encrypt-master-password &lt;password&gt;</span><br></pre></td></tr></table></figure>

<p>这个命令会生成一条类似{jSMOWnoPFgsHVpMvz5VrIt5kRbzGpI8u+9EF1iFQyJQ=}的字符串<br>将这个生成的字符串存储在${user.home}/.m2/settings-security.xml文件里</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">settingsSecurity</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">master</span>&gt;</span>&#123;jSMOWnoPFgsHVpMvz5VrIt5kRbzGpI8u+9EF1iFQyJQ=&#125;<span class="tag">&lt;/<span class="name">master</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">settingsSecurity</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ol start="3">
<li>生成服务器密码<br></li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvn --encrypt-password &lt;password&gt;</span><br></pre></td></tr></table></figure>

<p>得到类似{COQLCE6DU6GtcS5P=}的字符串，替换到上面的setting.xml文件中</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="tag">&lt;<span class="name">server</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">id</span>&gt;</span>registry.cn-beijing.aliyuncs.com<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">username</span>&gt;</span>topcatii@126.com<span class="tag">&lt;/<span class="name">username</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">password</span>&gt;</span>&#123;COQLCE6DU6GtcS5P=&#125;<span class="tag">&lt;/<span class="name">password</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">email</span>&gt;</span>topcatii@126.com<span class="tag">&lt;/<span class="name">email</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">server</span>&gt;</span></span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<p><a name="LxVxT"></a></p>
<h2 id="使用maven命令打包发布"><a href="#使用maven命令打包发布" class="headerlink" title="使用maven命令打包发布"></a>使用maven命令打包发布</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvn package dockerfile:build dockerfile:push</span><br></pre></td></tr></table></figure>

<p><a name="PaW3E"></a></p>
<h2 id="参考："><a href="#参考：" class="headerlink" title="参考："></a>参考：</h2><ul>
<li><a href="http://maven.apache.org/guides/mini/guide-encryption.html" target="_blank" rel="noopener">http://maven.apache.org/guides/mini/guide-encryption.html</a></li>
</ul>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://topcatv.github.com/2019/03/05/springboot-maven-docker/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="刘易(Roy Liu)">
      <meta itemprop="description" content>
      <meta itemprop="image" content="http://cn.gravatar.com/avatar/d4110ace8be56d4da704c138d8abee09">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="老男将的叨叨">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/03/05/springboot-maven-docker/" itemprop="url">springboot使用maven打包docker</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-03-05T18:09:23+08:00">2019-03-05</time>
            

            
            

            
          </span>

          

          
            
          

          
          
             <span id="/2019/03/05/springboot-maven-docker/" class="leancloud_visitors" data-flag-title="springboot使用maven打包docker">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          
            <div class="post-symbolscount">
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">3.1k</span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">0:03</span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h1 id="Springboot项目配置Maven插件打包Docker镜像"><a href="#Springboot项目配置Maven插件打包Docker镜像" class="headerlink" title="Springboot项目配置Maven插件打包Docker镜像"></a>Springboot项目配置Maven插件打包Docker镜像</h1><ol>
<li>创建Dockerfile配置文件</li>
<li>在pom.xml中添加插件</li>
<li>需要注意的地方
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2019/03/05/springboot-maven-docker/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </li></ol></div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://topcatv.github.com/2019/01/14/data-capacity/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="刘易(Roy Liu)">
      <meta itemprop="description" content>
      <meta itemprop="image" content="http://cn.gravatar.com/avatar/d4110ace8be56d4da704c138d8abee09">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="老男将的叨叨">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/01/14/data-capacity/" itemprop="url">系统数据容量获取</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-01-14T17:26:31+08:00">2019-01-14</time>
            

            
            

            
          </span>

          

          
            
          

          
          
             <span id="/2019/01/14/data-capacity/" class="leancloud_visitors" data-flag-title="系统数据容量获取">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          
            <div class="post-symbolscount">
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">2.8k</span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">0:03</span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h1 id="统计系统数据容量"><a href="#统计系统数据容量" class="headerlink" title="统计系统数据容量"></a>统计系统数据容量</h1><h2 id="MySQL数据库"><a href="#MySQL数据库" class="headerlink" title="MySQL数据库"></a>MySQL数据库</h2><ul>
<li>查看所有数据库容量大小<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> table_schema                                 <span class="keyword">as</span> <span class="string">'数据库'</span>,</span><br><span class="line">       <span class="keyword">sum</span>(table_rows)                              <span class="keyword">as</span> <span class="string">'记录数'</span>,</span><br><span class="line">       <span class="keyword">sum</span>(<span class="keyword">truncate</span>(data_length / <span class="number">1024</span> / <span class="number">1024</span>, <span class="number">2</span>))  <span class="keyword">as</span> <span class="string">'数据容量(MB)'</span>,</span><br><span class="line">       <span class="keyword">sum</span>(<span class="keyword">truncate</span>(index_length / <span class="number">1024</span> / <span class="number">1024</span>, <span class="number">2</span>)) <span class="keyword">as</span> <span class="string">'索引容量(MB)'</span></span><br><span class="line"><span class="keyword">from</span> information_schema.tables</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> table_schema</span><br><span class="line"><span class="keyword">order</span> <span class="keyword">by</span> <span class="keyword">sum</span>(data_length) <span class="keyword">desc</span>, <span class="keyword">sum</span>(index_length) <span class="keyword">desc</span>;</span><br></pre></td></tr></table></figure>

</li>
</ul>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2019/01/14/data-capacity/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://topcatv.github.com/2018/02/14/vscode-in-zsh/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="刘易(Roy Liu)">
      <meta itemprop="description" content>
      <meta itemprop="image" content="http://cn.gravatar.com/avatar/d4110ace8be56d4da704c138d8abee09">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="老男将的叨叨">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/02/14/vscode-in-zsh/" itemprop="url">将vs code配置到zsh中命令行启动</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-02-14T20:48:47+08:00">2018-02-14</time>
            

            
            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/mac/" itemprop="url" rel="index"><span itemprop="name">mac</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          
             <span id="/2018/02/14/vscode-in-zsh/" class="leancloud_visitors" data-flag-title="将vs code配置到zsh中命令行启动">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          
            <div class="post-symbolscount">
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">511</span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">0:01</span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>我们在mac上使用Visual Studio Code时希望在zsh中通过命令快速打开一个文件或文件夹如何做到？</p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2018/02/14/vscode-in-zsh/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://topcatv.github.com/2016/03/20/config-BracketHightlighter-for-Sublime-Text3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="刘易(Roy Liu)">
      <meta itemprop="description" content>
      <meta itemprop="image" content="http://cn.gravatar.com/avatar/d4110ace8be56d4da704c138d8abee09">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="老男将的叨叨">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/03/20/config-BracketHightlighter-for-Sublime-Text3/" itemprop="url">Sublime Text3配置BracketHighlighter插件</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-03-20T21:08:29+08:00">2016-03-20</time>
            

            
            

            
          </span>

          

          
            
          

          
          
             <span id="/2016/03/20/config-BracketHightlighter-for-Sublime-Text3/" class="leancloud_visitors" data-flag-title="Sublime Text3配置BracketHighlighter插件">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          
            <div class="post-symbolscount">
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">4.1k</span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">0:04</span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>BracketHighlighter是一款括号匹配高亮显示的sublime插件<br>下面是官网上的一个截图<br><img src="https://camo.githubusercontent.com/771f9df16f29a134369cbcb0913f55932d156983/687474703a2f2f646c2e64726f70626f782e636f6d2f752f3334323639382f427261636b6574486967686c6967687465722f4578616d706c65312e706e67" alt="BracketHighlighter"></p>
<p>今天就介绍一下这个插件在mac下如何安装到Sublime Text3下</p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2016/03/20/config-BracketHightlighter-for-Sublime-Text3/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://topcatv.github.com/2016/01/23/My-Mac-environment-config/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="刘易(Roy Liu)">
      <meta itemprop="description" content>
      <meta itemprop="image" content="http://cn.gravatar.com/avatar/d4110ace8be56d4da704c138d8abee09">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="老男将的叨叨">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/01/23/My-Mac-environment-config/" itemprop="url">我的MacBook系统及开发环境配置</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-01-23T22:09:21+08:00">2016-01-23</time>
            

            
            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/mac/" itemprop="url" rel="index"><span itemprop="name">mac</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          
             <span id="/2016/01/23/My-Mac-environment-config/" class="leancloud_visitors" data-flag-title="我的MacBook系统及开发环境配置">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          
            <div class="post-symbolscount">
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">1.5k</span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">0:01</span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>MacBookPro已入手多时，现在也已用的比较熟练了，这里记录一下我的Mac的开发环境配置。下面将从几个方面记录一下板沙的成果。</p>
<ol>
<li>基础软件<a href="http://brew.sh/" target="_blank" rel="noopener">HomeBrew</a>、<a href="http://iterm2.com/" target="_blank" rel="noopener">iterm2</a>、<a href="http://ohmyz.sh/" target="_blank" rel="noopener">ohmyzsh</a></li>
<li>美化<a href="https://github.com/powerline/powerline" target="_blank" rel="noopener">powerline</a></li>
<li>系统工具Mackup</li>
<li>开发工具MacVim或Vim、<a href="http://www.sublimetext.com/3" target="_blank" rel="noopener">Sublime Text 3</a></li>
</ol>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2016/01/23/My-Mac-environment-config/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="http://cn.gravatar.com/avatar/d4110ace8be56d4da704c138d8abee09" alt="刘易(Roy Liu)">
            
              <p class="site-author-name" itemprop="name">刘易(Roy Liu)</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">20</span>
                    <span class="site-state-item-name">日志</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  <a href="/categories/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">7</span>
                    <span class="site-state-item-name">分类</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  <a href="/tags/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">24</span>
                    <span class="site-state-item-name">标签</span>
                  </a>
                </div>
              
            </nav>
          

          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  <a href="https://github.com/topcatv" target="_blank" title="GitHub"><i class="fa fa-fw fa-github"></i>GitHub</a>
                  
                </span>
              
                <span class="links-of-author-item">
                  <a href="mailto:topcatv@gmail.com" target="_blank" title="E-Mail"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  
                </span>
              
                <span class="links-of-author-item">
                  <a href="https://plus.google.com/topcatv" target="_blank" title="Google"><i class="fa fa-fw fa-google"></i>Google</a>
                  
                </span>
              
                <span class="links-of-author-item">
                  <a href="http://weibo.com/topcat" target="_blank" title="Weibo"><i class="fa fa-fw fa-globe"></i>Weibo</a>
                  
                </span>
              
            </div>
          

          
          
            <div class="cc-license motion-element" itemprop="license">
              <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" target="_blank">
                <img src="/images/cc-by-nc-sa.svg" alt="Creative Commons">
              </a>
            </div>
          

          
          

          
            
          
          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">刘易(Roy Liu)</span>

  
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-area-chart"></i>
    </span>
    
      <span class="post-meta-item-text">站点总字数&#58;</span>
    
    <span title="站点总字数">43k</span>
  

  
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    
      <span class="post-meta-item-text">站点总阅读时长&#58;</span>
    
    <span title="站点总阅读时长">0:43</span>
  
</div>




  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/theme-next/hexo-theme-next">NexT.Muse</a> v6.0.4</div>




        








  <div style="display: none;">
    <script src="//s95.cnzz.com/z_stat.php?id=1272906633&web_id=1272906633" language="JavaScript"></script>
  </div>



        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
          <span id="scrollpercent"><span>0</span>%</span>
        
      </div>
    

    
      <div id="needsharebutton-float">
        <span class="btn">
          <i class="fa fa-share-alt" aria-hidden="true"></i>
        </span>
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>







  








  











  



  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>
  

  
  
    <script type="text/javascript" src="/lib/reading_progress/reading_progress.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=6.0.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=6.0.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=6.0.4"></script>



  



	





  





  










  





  

  
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.4.js"></script>
  <script>AV.initialize("iW6p7VKggqTdiEkabv0RzHpm-gzGzoHsz", "7Ym9Kfibx9AekoQuLON3QxXG");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
          for(var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if( countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            counter.save(null, {
              success: function(counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('time'));
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
            /* Set ACL */
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
            /* End Set ACL */
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("time", 1);
            newcounter.save(null, {
              success: function(newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
              },
              error: function(newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
      }
    });
  </script>



  

  

  

  
  
  
  <script src="/lib/needsharebutton/needsharebutton.js"></script>

  <script>
    
      pbOptions = {};
      
          pbOptions.iconStyle = "box";
      
          pbOptions.boxForm = "horizontal";
      
          pbOptions.position = "bottomCenter";
      
          pbOptions.networks = "Weibo,Wechat,Douban,QQZone,Twitter,Facebook";
      
      new needShareButton('#needsharebutton-postbottom', pbOptions);
    
    
      flOptions = {};
      
          flOptions.iconStyle = "box";
      
          flOptions.boxForm = "horizontal";
      
          flOptions.position = "middleRight";
      
          flOptions.networks = "Weibo,Wechat,Douban,QQZone,Twitter,Facebook";
      
      new needShareButton('#needsharebutton-float', flOptions);
    
  </script>

  

  

  

  

  

</body>
</html>
